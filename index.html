<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="Description">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <link rel="stylesheet" media="(prefers-color-scheme: light)" href="https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple.css">
  <link rel="stylesheet" media="(prefers-color-scheme: dark)" href="https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple-dark.css">

  <style>
    :root {
      --theme-color   : #008243;
      --sidebar-width : 21rem;
    }
  </style>
</head>
<body>
  <div id="app"></div>
  <script>
    function logo(query) {
      return (query.matches) ? '/_media/Banner-Dark.svg' : '/_media/Banner-Light.svg';
    }

    function set_text_colour(query) {
      var r = document.querySelector(':root');
      r.style.setProperty('--theme-color', (query.matches) ? '#00D970' : '#008243');
    }

    const darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');    
    set_text_colour(darkModeMediaQuery);

    window.$docsify = {
      name: 'Pākiki Proxy',
      repo: 'forensant/pakiki-documentation',
      loadSidebar: true,
      subMaxLevel: 2,
      search: 'auto', // default
      logo: logo(darkModeMediaQuery),
      homepage: 'Home.md'
    }

    darkModeMediaQuery.addListener((e) => {
      document.getElementsByClassName("app-name-link")[0].children[0].src = logo(e);
      set_text_colour(e);
    }); 

    // set the default tab to be MacOS, if we're running on MacOS and it isn't already set
    let agent = navigator.userAgent;
    if(agent.includes('Mac OS') && !sessionStorage.getItem('docsify-tabs.persist./')) {
      sessionStorage.setItem('docsify-tabs.sync', '["macos","linux","web"]');
      sessionStorage.setItem('docsify-tabs.persist./', '{"0":"macos"}');
    }
  </script>
  <!-- Docsify v4 -->
  <script src="https://cdn.jsdelivr.net/npm/docsify@4"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify-copy-code/dist/docsify-copy-code.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify-tabs@1"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/js/docsify-themeable.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-bash.min.js"></script>
  <script src="https://unpkg.com/docsify-pagination/dist/docsify-pagination.min.js"></script>
</body>
</html>
